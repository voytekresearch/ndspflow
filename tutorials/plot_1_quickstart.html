<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1. Quickstart &#8212; ndspflow 0.0.1 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-rendered-html.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          ndspflow</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../api.html">API</a></li>
                <li><a href="index.html">Tutorials</a></li>
                <li><a href="https://github.com/voytekresearch/ndspflow">GitHub</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<div class="section" id="1.-Quickstart">
<h1>1. Quickstart<a class="headerlink" href="#1.-Quickstart" title="Permalink to this headline">¶</a></h1>
<div class="section" id="Installation">
<h2>Installation<a class="headerlink" href="#Installation" title="Permalink to this headline">¶</a></h2>
<p>It is recommended to install <code class="docutils literal notranslate"><span class="pre">ndspflow</span></code> within a virtual environment, either from pypi or from a github clone:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">ndspflow</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://github.com/voytekresearch/ndspflow.git</span> <span class="pre">&amp;&amp;</span> <span class="pre">cd</span> <span class="pre">ndspflow</span> <span class="pre">&amp;&amp;</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">.</span></code></p></li>
</ul>
</div>
<div class="section" id="Command-Line-Interface-Specifications">
<h2>Command-Line Interface Specifications<a class="headerlink" href="#Command-Line-Interface-Specifications" title="Permalink to this headline">¶</a></h2>
<p>If successfully installed, <code class="docutils literal notranslate"><span class="pre">ndspflow</span></code> will be recognized by your system’s shell. Analysis settings and workflow options may be displayed using the <code class="docutils literal notranslate"><span class="pre">--help</span></code> option.</p>
<p><strong>Required Arguments</strong></p>
<p>When <code class="docutils literal notranslate"><span class="pre">fooof</span></code> is in the <code class="docutils literal notranslate"><span class="pre">run_nodes</span></code> argument:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">power_spectrum</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">freqs</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_range_fooof</span></code></p></li>
</ul>
<p>When <code class="docutils literal notranslate"><span class="pre">bycycle</span></code> is in the <code class="docutils literal notranslate"><span class="pre">run_nodes</span></code> argument:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sig</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fs</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f_range_bycycle</span></code></p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">run_nodes</span></code> is set to <code class="docutils literal notranslate"><span class="pre">both</span></code>, then all six of the previous arguments are required.</p>
<p>The last two positional (required) arguments are paths to read input data and write output data, respectively.</p>
<p><strong>Optional Arguments</strong></p>
<p>All other settings have default values. However, it is recommended to determine if these values are appropriate for your data. Indivdual and group analysis reports created from the default settings often help inform more appropriate settings. These reports will be explored in <em>other tutorials (replace with link)</em>. The documentation sites for <a class="reference external" href="https://bycycle-tools.github.io/bycycle/">bycycle</a> and <a class="reference external" href="https://fooof-tools.github.io/fooof/">fooof</a> provide tutorials and examples using these
settings. For example, this <a class="reference external" href="https://bycycle-tools.github.io/bycycle/auto_tutorials/plot_2_bycycle_algorithm.html#sphx-glr-auto-tutorials-plot-2-bycycle-algorithm-py">bycycle tutorial</a> is helpful in determining appropriate burst detection thresholds. Likewise, this <a class="reference external" href="https://fooof-tools.github.io/fooof/auto_tutorials/plot_07-TroubleShooting.html#sphx-glr-auto-tutorials-plot-07-troubleshooting-py">fooof tutorial</a> is helpful in determining appropriate spectral peak settings.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-bash notranslate"><div class="highlight"><pre>
<span></span>%%bash

<span class="c1"># Check if installation was successful and list all CLI specifications:</span>
ndspflow --help
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
usage: ndspflow [-h] [-power_spectrum powers.npy] [-freqs freqs.npy]
                [-f_range_fooof lower_freq upper_freq] [-sig signal.npy]
                [-fs int] [-f_range_bycycle lower_freq upper_freq]
                [-peak_width_limits lower_limit upper_limit]
                [-max_n_peaks int] [-min_peak_height float]
                [-peak_threshold float] [-aperiodic_mode {fixed,knee}]
                [-center_extrema {peak,trough}] [-burst_method {cycles,amp}]
                [-amp_fraction_threshold float]
                [-amp_consistency_threshold float]
                [-period_consistency_threshold float]
                [-monotonicity_threshold float] [-min_n_cycles int]
                [-burst_fraction_threshold float] [-axis {0, 1, 0, 1, None}]
                [-n_jobs int] [-run_nodes {fooof,bycycle,both}]
                /path/to/input /path/to/output

A Nipype workflow for FOOOF and Bycycle.

positional arguments:
  /path/to/input        Input directory containing timeseries and/or spectra .npy files to read (default: None).
  /path/to/output       Output directory to write results and BIDS derivatives to write (default: None).

optional arguments:
  -h, --help            show this help message and exit
  -power_spectrum powers.npy
                        Filename of power values, located inside of &#39;input_dir&#39;
                        Required if &#39;fooof&#39; in &#39;run_nodes argument&#39; (default: None).
  -freqs freqs.npy      Filename of frequency values for the power spectrum(a), located inside of &#39;input_dir&#39;.
                        Required if &#39;fooof&#39; in &#39;run_nodes argument&#39; (default: None).
  -f_range_fooof lower_freq upper_freq
                        Frequency range of the power spectrum, as: lower_freq, upper_freq.
                        Recommended if &#39;fooof&#39; in &#39;run_nodes argument&#39; (default: (-inf, inf)).
  -sig signal.npy       Filename of neural signal or timeseries, located inside of &#39;input_dir&#39;.
                        Required if &#39;bycycle&#39; in &#39;run_nodes argument&#39; (default: None).
  -fs int               Sampling rate, in Hz.
                        Required if &#39;bycycle&#39; in &#39;run_nodes argument&#39;.
  -f_range_bycycle lower_freq upper_freq
                        Frequency range for narrowband signal of interest (Hz).
                        Required if &#39;bycycle&#39; in &#39;run_nodes argument&#39;.

  -peak_width_limits lower_limit upper_limit
                        Limits on peak widths, in Hz, as: lower_limit upper_limit.
                        Recommended if &#39;fooof&#39; in &#39;run_nodes argument&#39; (default: (0.5, 12.0)).
  -max_n_peaks int      Maximum number of peaks to fit.
                        Recommended if &#39;fooof&#39; in &#39;run_nodes argument&#39; (default: 100).
  -min_peak_height float
                        Absolute threshold for detecting peaks, in units of the input data.
                        Recommended if &#39;fooof&#39; in &#39;run_nodes argument&#39; (default: 0.0).
  -peak_threshold float
                        Relative threshold for detecting peaks, in units of standard deviation of the input data.
                        Recommended if &#39;fooof&#39; in &#39;run_nodes argument&#39; (default: 2.0).
  -aperiodic_mode {fixed,knee}
                        Which approach to take for fitting the aperiodic component.
                        Recommended if &#39;fooof&#39; in &#39;run_nodes argument&#39; (default: fixed).

  -center_extrema {peak,trough}
                        Determines if cycles are peak or trough centered.
                        Recommended if &#39;bycycle&#39; in &#39;run_nodes argument&#39; (default: peak).
  -burst_method {cycles,amp}
                        Method for burst detection.
                        Recommended if &#39;bycycle&#39; in &#39;run_nodes argument&#39; (default: cycles).
  -amp_fraction_threshold float
                        Amplitude fraction threshold for detecting bursts.
                        Recommended if &#39;burst_method&#39; is &#39;cycles&#39; (default: 0).
  -amp_consistency_threshold float
                        Amplitude consistency threshold for detecting bursts.
                        Recommended if &#39;burst_method&#39; is &#39;cycles&#39; (default: 0.5).
  -period_consistency_threshold float
                        Period consistency threshold for detecting bursts.
                        Recommended if &#39;burst_method&#39; is &#39;cycles&#39; (default: 0.5).
  -monotonicity_threshold float
                        Monotonicicity threshold for detecting bursts.
                        Recommended if &#39;burst_method&#39; is &#39;cycles&#39; (default: 0.8).
  -min_n_cycles int     Minium number of cycles for detecting bursts
                        Recommended for either &#39;burst_method&#39; (default: 3).
  -burst_fraction_threshold float
                        Minimum fraction of a cycle identified as a burst.
                        Recommended if &#39;burst_method&#39; is &#39;amp&#39; (default: 1).
  -axis {0, 1, (0, 1), None}
                        The axis to compute features across for 2D and 3D signal arrays.
                        Ignored if signal is 1D. 1 and (0, 1) only availble for 3D signals
                        (default: 0).

  -n_jobs int           The maximum number of jobs to run in parallel at one time.
                        Only utilized for 2d and 3d arrays (default: 1).
  -run_nodes {fooof,bycycle,both}
                        List of nodes to run: fooof and/or bycyle (default: fooof bycycle).
</pre></div></div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2020-2020, VoytekLab.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.4.0.<br/>
    </p>
  </div>
</footer>
  </body>
</html>